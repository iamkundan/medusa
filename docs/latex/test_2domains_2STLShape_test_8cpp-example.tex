\doxysection{test/domains/\+STLShape\+\_\+test.\+cpp}
\hypertarget{test_2domains_2STLShape_test_8cpp-example}{}\label{test_2domains_2STLShape_test_8cpp-example}
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{STLShape_8hpp}{medusa/bits/domains/STLShape.hpp}}"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{FindClosest_8hpp}{medusa/bits/domains/FindClosest.hpp}}"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{DomainDiscretization__fwd_8hpp}{medusa/bits/domains/DomainDiscretization\_fwd.hpp}}"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}gtest/gtest.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacemm}{mm}}\ \{}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(Domains,\ STLShape)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ data\ =\ \mbox{\hyperlink{classmm_1_1STL_aaac3c874ba4dbd10dbc4f719798ca6e2}{STL::read}}(\textcolor{stringliteral}{"{}test/testdata/tetrahedron.stl"{}});}
\DoxyCodeLine{\ \ \ \ STLShape<Vec3d>\ shape(data);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ dx\ =\ [](\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacemm_a2107b91b1d35846c8b7ea3d142498502}{Vec3d}}\&\ p)\ \{\ \textcolor{keywordflow}{return}\ 0.005\ +\ (p-\/\mbox{\hyperlink{namespacemm_a2107b91b1d35846c8b7ea3d142498502}{Vec3d}}(0.5,\ 0.5,\ 0.5)).norm()/50;\ \};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ d\ =\ shape.discretizeBoundaryWithDensity(dx);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EXPECT\_GT(d.size(),\ 5000);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ d.findSupport(FindClosest(2));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ d.size();\ ++i)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ASSERT\_NEAR(d.dr(i),\ dx(d.pos(i)),\ 2e-\/2);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ bbox\ =\ shape.bbox();}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(\mbox{\hyperlink{namespacemm_a2107b91b1d35846c8b7ea3d142498502}{Vec3d}}(0.5,\ 0.5,\ 0.5),\ bbox.first);}
\DoxyCodeLine{\ \ \ \ EXPECT\_EQ(\mbox{\hyperlink{namespacemm_a2107b91b1d35846c8b7ea3d142498502}{Vec3d}}(1.5,\ 1.5,\ 1.5),\ bbox.second);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\}\ \ \textcolor{comment}{//\ namespace\ mm}}

\end{DoxyCodeInclude}
 