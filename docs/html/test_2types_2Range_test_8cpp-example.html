<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medusa: test/types/Range_test.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Medusa"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
  TeX: {
    Macros: {
      dpar: ["\\frac{\\partial #1}{\\partial #2}", 2]
    }
  }
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://e6.ijs.si/medusa/"><img alt="Logo" src="logo_transparent.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
    <div id="projectname">Medusa
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Coordinate Free Mehless Method implementation</div>
  </td>
   <td id="ijslogo"><a href="http://e6.ijs.si/ParallelAndDistributedSystems/"><img src="logo_ijs.png" alt="IJS_logo"></a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('test_2types_2Range_test_8cpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">test/types/Range_test.cpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Range_8hpp.html">medusa/bits/types/Range.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;gtest/gtest.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacemm.html">mm</a> {</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeConstructAssign) {</div>
<div class="line">    Range&lt;double&gt; a({1, 2, 3.6});</div>
<div class="line">    ASSERT_EQ(3, a.size());</div>
<div class="line">    EXPECT_EQ(1, a[0]);</div>
<div class="line">    EXPECT_EQ(2, a[1]);</div>
<div class="line">    EXPECT_EQ(3.6, a[2]);</div>
<div class="line">    a = {2.3, -4.1};</div>
<div class="line">    ASSERT_EQ(2, a.size());</div>
<div class="line">    EXPECT_EQ(2.3, a[0]);</div>
<div class="line">    EXPECT_EQ(-4.1, a[1]);</div>
<div class="line">    a = {3, 4, 5, 6, 7.2};</div>
<div class="line">    Range&lt;double&gt; b(1, 3);</div>
<div class="line">    b = a[{1, 2, 4}].asRange();</div>
<div class="line">    ASSERT_EQ(3, b.size());</div>
<div class="line">    EXPECT_EQ(4, b[0]);</div>
<div class="line">    EXPECT_EQ(5, b[1]);</div>
<div class="line">    EXPECT_EQ(7.2, b[2]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeCompare) {</div>
<div class="line">    Range&lt;double&gt; a = {1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0};</div>
<div class="line">    Range&lt;int&gt; result = a &gt; 3.2;</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({3, 4, 5, 6, 7}), result);</div>
<div class="line">    result = a &lt; 3.2;</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({0, 1, 2}), result);</div>
<div class="line">    result = a == 3.2;</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;(), result);</div>
<div class="line">    EXPECT_EQ(a, a);</div>
<div class="line"> </div>
<div class="line">    Range&lt;double&gt; b(std::vector&lt;double&gt;({1, 2, 3}));</div>
<div class="line">    ASSERT_EQ(3, b.size());</div>
<div class="line">    EXPECT_EQ(1, b[0]);</div>
<div class="line">    EXPECT_EQ(2, b[1]);</div>
<div class="line">    EXPECT_EQ(3, b[2]);</div>
<div class="line"> </div>
<div class="line">    b = std::vector&lt;double&gt;({1.2, 2.3});</div>
<div class="line">    ASSERT_EQ(2, b.size());</div>
<div class="line">    EXPECT_DOUBLE_EQ(1.2, b[0]);</div>
<div class="line">    EXPECT_DOUBLE_EQ(2.3, b[1]);</div>
<div class="line"> </div>
<div class="line">    Range&lt;int&gt; c = {1, 2, 3, 1, 2, 3};</div>
<div class="line">    Range&lt;int&gt; d = {1, 2, 3};</div>
<div class="line">    EXPECT_EQ((c[{0, 1, 2}]).asRange(), d);</div>
<div class="line">    EXPECT_NE((c[{1, 2, 0}]).asRange(), d);</div>
<div class="line">    EXPECT_EQ((c[{0, 1, 2}]).asRange(), (c[{3, 4, 5}]).asRange());</div>
<div class="line">    EXPECT_EQ(d, (c[{0, 1, 2}]).asRange());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeAccess) {</div>
<div class="line">    Range&lt;double&gt; d_range(5, 1);</div>
<div class="line">    d_range = <span class="keyword">static_cast&lt;</span>Range&lt;double&gt;<span class="keyword">&gt;</span>(d_range[{0, 2}]);</div>
<div class="line">    ASSERT_EQ(2, d_range.size());</div>
<div class="line">    EXPECT_EQ(1, d_range[0]);</div>
<div class="line">    EXPECT_EQ(1, d_range[1]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeAppendJoin) {</div>
<div class="line">    Range&lt;double&gt; a = {1.0, -2.2, 3.0}, b = {2.0, 3.0, 4.0};</div>
<div class="line">    Range&lt;double&gt; c(b);</div>
<div class="line">    Range&lt;double&gt; d(a);</div>
<div class="line">    a.append(b);</div>
<div class="line">    EXPECT_EQ(Range&lt;double&gt;({1.0, -2.2, 3.0, 2.0, 3.0, 4.0}), a);</div>
<div class="line">    EXPECT_EQ(c, b);</div>
<div class="line">    EXPECT_EQ(Range&lt;double&gt;({1.0, -2.2, 3.0, 2.0, 3.0, 4.0}), d.join(c));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeRemove) {</div>
<div class="line">    Range&lt;double&gt; a = {0, 1, 2, 3, 4, 5, 6, 7, 8};</div>
<div class="line">    a.remove({4, 3, 2, 3});</div>
<div class="line">    EXPECT_EQ(Range&lt;double&gt;({0, 1, 5, 6, 7, 8}), a);</div>
<div class="line">    a.remove({});</div>
<div class="line">    EXPECT_EQ(Range&lt;double&gt;({0, 1, 5, 6, 7, 8}), a);</div>
<div class="line">    a.remove({0, 1, 2, 3, 4, 5});</div>
<div class="line">    EXPECT_EQ(Range&lt;double&gt;(), a);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeFilter) {</div>
<div class="line">    Range&lt;double&gt; aa = {1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0};</div>
<div class="line">    Range&lt;int&gt; ind = aa.filter([](<span class="keywordtype">double</span> v) { <span class="keywordflow">return</span> v &gt; 2.3 &amp;&amp; v &lt; 6.4; });</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({2, 3, 4, 5}), ind);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeMap) {</div>
<div class="line">    Range&lt;std::pair&lt;double, double&gt;&gt; r = {{1, 0}, {1.5, 2}, {0, -0.1}};</div>
<div class="line">    Range&lt;double&gt; n = r.map([] (<span class="keyword">const</span> std::pair&lt;double, double&gt;&amp; v) {</div>
<div class="line">        <span class="keywordflow">return</span> v.first*v.first + v.second*v.second; });</div>
<div class="line">    ASSERT_EQ(3, n.size());</div>
<div class="line">    EXPECT_DOUBLE_EQ(1.0*1.0, n[0]);</div>
<div class="line">    EXPECT_DOUBLE_EQ(2.5*2.5, n[1]);</div>
<div class="line">    EXPECT_DOUBLE_EQ(0.1*0.1, n[2]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeBool) {</div>
<div class="line">    Range&lt;bool&gt; a(30, <span class="keyword">false</span>);</div>
<div class="line">    a[7] = <span class="keyword">true</span>;</div>
<div class="line">    EXPECT_TRUE(a[7]);</div>
<div class="line">    EXPECT_FALSE(a[6]);</div>
<div class="line">    EXPECT_FALSE(a[8]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeDeathTest) {</div>
<div class="line">     Range&lt;int&gt; a = {1, 2, 3};</div>
<div class="line">     Range&lt;int&gt; b = {3, 1};</div>
<div class="line">     EXPECT_DEATH((a[{4, 1}]),</div>
<div class="line">                  <span class="stringliteral">&quot;Index 4 out of range \\[0, 3) when using multiindexed read-write access.&quot;</span>);</div>
<div class="line">     EXPECT_DEATH((a[{4, 1}]) = 5,</div>
<div class="line">                  <span class="stringliteral">&quot;Index 4 out of range \\[0, 3) when using multiindexed read-write access.&quot;</span>);</div>
<div class="line">     EXPECT_DEATH((<span class="keyword">static_cast&lt;</span><span class="keyword">const </span>Range&lt;int&gt;&amp;<span class="keyword">&gt;</span>(a)[{4, 1}]),</div>
<div class="line">                  <span class="stringliteral">&quot;Index 4 out of range \\[0, 3) when using multiindexed read access.&quot;</span>);</div>
<div class="line">     EXPECT_DEATH(<span class="keyword">static_cast&lt;</span><span class="keyword">const </span>Range&lt;int&gt;&amp;<span class="keyword">&gt;</span>(a)[4],</div>
<div class="line">                  <span class="stringliteral">&quot;Index 4 out of range \\[0, 3) when accessing Range for read/write.&quot;</span>);</div>
<div class="line">     EXPECT_DEATH(a[4], <span class="stringliteral">&quot;Index 4 out of range \\[0, 3) when accessing Range for write.&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, RangeViewPrint) {</div>
<div class="line">    std::stringstream ss;</div>
<div class="line">    Range&lt;int&gt; a = {1, 2, 3};</div>
<div class="line">    ss &lt;&lt; a[{1, 0, 1}];</div>
<div class="line">    ss &lt;&lt; static_cast&lt;const Range&lt;int&gt;&amp;&gt;(a)[{1, 2, 1}];</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<span class="stringliteral">&quot;[2, 1, 2][2, 3, 2]&quot;</span>, ss.str());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, Seq) {</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({0, 1, 2, 3, 4}), Range&lt;int&gt;::seq(5));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({2, 3, 4}), Range&lt;int&gt;::seq(2, 5));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({4, 3, 2, 1, 0}), Range&lt;int&gt;::seq(4, -1, -1));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({4, 2, 0}), Range&lt;int&gt;::seq(4, -1, -2));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({4, 2}), Range&lt;int&gt;::seq(4, 0, -2));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({2, 4}), Range&lt;int&gt;::seq(2, 5, 2));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({2, 4}), Range&lt;int&gt;::seq(2, 6, 2));</div>
<div class="line">    EXPECT_EQ(Range&lt;int&gt;({2, 4, 6}), Range&lt;int&gt;::seq(2, 7, 2));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(Types, DISABLED_RangeExamples) {</div>
<div class="line">    Range&lt;int&gt; v = <a id="a0" name="a0"></a><a class="code hl_function" href="classmm_1_1Range.html#a072259bcb0fddbb2ba577fc74fc17a6d">Range&lt;int&gt;::seq</a>(100);  <span class="comment">// numbers from 0 to 99, inclusive</span></div>
<div class="line">    v[v.filter([](<span class="keywordtype">int</span> x) { <span class="keywordflow">return</span> x % 2 == 0; })] = 0;  <span class="comment">// set even to 0</span></div>
<div class="line">    v.remove(v &gt; 80);  <span class="comment">// remove greater than 80</span></div>
<div class="line">    std::cout &lt;&lt; v &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    Range&lt;int&gt; u(100, 4);</div>
<div class="line">    v.append(u);  <span class="comment">// append one range to another</span></div>
<div class="line">    std::cout &lt;&lt; v + u &lt;&lt; std::endl;  <span class="comment">// join two ranges and return result</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace mm</span></div>
<div class="ttc" id="aRange_8hpp_html"><div class="ttname"><a href="Range_8hpp.html">Range.hpp</a></div><div class="ttdoc">Implementation of Range.</div></div>
<div class="ttc" id="aclassmm_1_1Range_html_a072259bcb0fddbb2ba577fc74fc17a6d"><div class="ttname"><a href="classmm_1_1Range.html#a072259bcb0fddbb2ba577fc74fc17a6d">mm::Range::seq</a></div><div class="ttdeci">static Range seq(V n)</div><div class="ttdoc">Returns range {0, ..., n-1}.</div></div>
<div class="ttc" id="anamespacemm_html"><div class="ttname"><a href="namespacemm.html">mm</a></div><div class="ttdoc">Root namespace for the whole library.</div><div class="ttdef"><b>Definition</b> <a href="Gaussian_8hpp_source.html#l00014">Gaussian.hpp:14</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 14 2024 16:54:47 for Medusa by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
